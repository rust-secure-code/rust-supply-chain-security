<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Rust Supply Chain Security Guide</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="A guide to securing the software supply chain of Rust programs and libraries">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="dependencies.html"><strong aria-hidden="true">1.</strong> Manage dependencies</a></li><li class="chapter-item expanded "><a href="maintain.html"><strong aria-hidden="true">2.</strong> Maintain a crate</a></li><li class="chapter-item expanded "><a href="build.html"><strong aria-hidden="true">3.</strong> Build for production</a></li><li class="chapter-item expanded "><a href="run.html"><strong aria-hidden="true">4.</strong> Run in production</a></li><li class="chapter-item expanded affix "><a href="checklist.html">Checklist</a></li><li class="chapter-item expanded affix "><a href="links.html">External links</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Rust Supply Chain Security Guide</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/amousset/rust-supply-chain-security" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<h2 id="what-is-software-supply-chain-security"><a class="header" href="#what-is-software-supply-chain-security">What is <em>Software Supply Chain Security</em>?</a></h2>
<p>The <em>Software Supply Chain</em> has been named as an analogy with the &quot;physical&quot;
<a href="https://en.wikipedia.org/wiki/Supply_chain">supply chain</a>,
that goes from raw materials to end consumers, through a system made of multiple links
(factories, delivery, etc.).</p>
<blockquote>
<p>A software supply chain is composed of the components, libraries, tools,
and processes used to develop, build, and publish a software artifact.<sup class="footnote-reference"><a href="#wiki">1</a></sup></p>
</blockquote>
<p>In the Rust context, it means more specifically the chain from the sources,
the dependencies (whether on crates.io or not),
build toolchain (<code>rustc</code>, <code>cargo</code>), CI/CD platforms, binary distribution, etc.</p>
<p>The software supply chain has been an increasingly frequent target
in recent years, as it allows attacking well-secured systems
by focusing on weaker links in their supply chain,
or attacking multiple targets with a single entry point.</p>
<p>Diagram of the software supply chain risks (by the SLSA project)<sup class="footnote-reference"><a href="#threats">2</a></sup>:</p>
<p><img src="images/supply-chain-threats.svg" alt="The supply chains threats, SLSA project" /></p>
<h2 id="about-this-guide"><a class="header" href="#about-this-guide">About this guide</a></h2>
<p>This guide is not a general introduction to the software supply chain security topic.
To learn more about it, you can
have a look at introductions by vendors like <a href="https://www.redhat.com/en/topics/security/what-is-software-supply-chain-security">Red Hat</a>
or <a href="https://snyk.io/series/software-supply-chain-security/">snyk</a>,
or the <a href="https://openssf.org/">OpenSSF</a> and <a href="https://slsa.dev">SLSA</a>
projects.</p>
<p>This document is aimed at Rust developers, whether working on libraries in the ecosystem or on programs
for end-users (and some parts of the guide are only applicable to one of these situations).
It focuses on currently available tooling for the Rust ecosystem and provides actionable items
whenever possible.</p>
<p>The <a href="./checklist.html">checklist</a> at the end gives an overview of the recommendations from the whole guide
and helps to prioritize the different topics.</p>
<div class="footnote-definition" id="wiki"><sup class="footnote-definition-label">1</sup>
<p><a href="https://en.wikipedia.org/w/index.php?title=Software_supply_chain&amp;oldid=1148357822#cite_note-1"><em>Software Supply Chain</em></a> on Wikipedia (en)
(under <em>Creative Commons Attribution-ShareAlike License 3.0</em>)</p>
</div>
<div class="footnote-definition" id="threats"><sup class="footnote-definition-label">2</sup>
<p><em>Supply chain Levels for Software Artifacts</em>,
<a href="https://slsa.dev/spec/v1.0/threats">Supply chain threats</a>
(under <em>Community Specification License 1.0</em>)</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="manage-dependencies"><a class="header" href="#manage-dependencies">Manage dependencies</a></h1>
<p><code>cargo</code> makes it really easy to use dependencies, so the programs in the Rust ecosystem tend
to use a lot of them.
Despite the obvious advantages for the developers, this also comes with
specific risks.
Let's start by describing them, either direct or somewhere in the dependency tree.</p>
<p>The most common risk is the presence of vulnerabilities in one of the dependencies,
like <a href="https://en.wikipedia.org/wiki/Log4Shell">Log4Shell</a> in the Java <code>log4j</code> logging library,
containing an exploitable remote code execution.</p>
<p>The other main risk is an intentional attack introducing malicious behavior (advertising, attacking developer systems,
compromising<a href="dependencies.html">dependencies.md</a> build systems, introducing backdoor in final products, etc.) in the 
dependency tree.
There are several possible kinds of malicious crates:</p>
<ul>
<li>
<p>New crates which look like legitimate ones.
Frequently using a name close to a widely used one (called typosquatting).</p>
<ul>
<li>Such an incident already happened with the <a href="https://blog.rust-lang.org/2022/05/10/malicious-crate-rustdecimal.html">rustdecimal</a>
crate, masquerading as the legitimate <code>rust_decimal</code> crate.
It contained a payload targeting Gitlab CI.</li>
</ul>
</li>
<li>
<p>New versions of legitimate crates, either by stealing credentials or
gaining publication access.</p>
</li>
</ul>
<p>For now the Rust ecosystem has been relatively preserved for these attacks, but it's likely
linked to the lower visibility and popularity (compared to <code>npm.org</code> for example),
and not to intrinsic differences in the tooling or usage.</p>
<h2 id="choose-dependencies"><a class="header" href="#choose-dependencies">Choose dependencies</a></h2>
<h3 id="DEPS-FEATURES"><a class="header" href="#DEPS-FEATURES">Minimize dependencies (DEPS-FEATURES)</a></h3>
<p>The safest dependency is the one you don't include.
Be careful though, the number of dependencies is not always a good measurement of the attack surface
(several crates maintained by the same team don't really multiply the risk).
To get an overview of people and organizations with publish access to your dependencies,
you can use the <a href="https://github.com/rust-secure-code/cargo-supply-chain">cargo supply-chain</a> tool:</p>
<pre><code class="language-shell">The following individuals can publish updates for your dependencies:

 1. alexcrichton via crates: bitflags, [...], web-sys
[...]
 139. zrzka via crates: anes

Note: there may be outstanding publisher invitations. crates.io provides no way to list them.
See https://github.com/rust-lang/crates.io/issues/2868 for more info.

All members of the following teams can publish updates for your dependencies:

 1. &quot;github:rust-bus:maintainers&quot; (https://github.com/rust-bus) via crates: [...]
[...]
 35. &quot;github:tower-rs:publish&quot; (https://github.com/tower-rs) via crates: tower-service

Github teams are black boxes. It's impossible to get the member list without explicit permission.
</code></pre>
<p>In order to minimize the number of dependencies, and your attack surface, you can:</p>
<ul>
<li>Explore your dependency tree with <code>cargo tree</code>/<code>cargo supply-chain</code> to see if you spot something to remove</li>
<li>Minimizing the dependency features.
Crates tend to include a lot of features by default for convenience,</li>
<li>but you can usually remove a part of the dependencies by disabling default features and only selecting the ones you actually need.</li>
</ul>
<pre><code class="language-toml">mylibrary = { version = &quot;1&quot;, default-features = false, features = [ &quot;required-feature&quot; ] }
</code></pre>
<h3 id="DEPS-ASSESS"><a class="header" href="#DEPS-ASSESS">Assess a dependency (DEPS-ASSESS)</a></h3>
<p>There is a <a href="https://gist.github.com/repi/d98bf9c202ec567fd67ef9e31152f43f">very good checklist</a>
covering many aspects of crate evaluation published (and used internally) by <a href="https://www.embark-studios.com/">Embark</a>.</p>
<p>When considering adding a dependency, there are a few things
you can do to lower the different risks.
Auditing the code is always an option, but is not scalable, especially including all future version upgrades.
There are several initiatives intending to share the review
work in the community,
like <a href="https://github.com/crev-dev/cargo-crev"><code>cargo-crev</code></a> and <a href="https://mozilla.github.io/cargo-vet/"><code>cargo-vet</code></a>.</p>
<p>Note: When reviewing a crate, don't use the repository as a reference as it may diverge
from the content uploaded to crates.io.
Instead, you can download the crate (using URLs like: https://crates.io/api/v1/crates/serde/1.0.0/download),
use the source view on docs.rs (or an external service like <a href="https://sourcegraph.com/search">Sourcegraph</a>
(<a href="https://sourcegraph.com/crates/regex@v1.1.0/-/blob/src/compile.rs">example</a>),
used by <code>cargo vet</code> for reviews, which is more convenient for comparing versions).</p>
<p>Note: Be careful when opening untrusted crates in your editor/IDE,
as even only opening it can run arbitrary code in procedural macros.
Use a simple text editor (without LSP-like features) or make use of
features like the <a href="https://code.visualstudio.com/docs/editor/workspace-trust">restricted mode</a> in VSCode.</p>
<p>To prevent potential vulnerabilities in memory management,
a focus on <code>unsafe</code> code is often needed in code reviews.
Tooling like <a href="https://github.com/rust-secure-code/cargo-geiger"><code>cargo-geiger</code></a> can help
track the use of unsafe code in dependencies.</p>
<h3 id="DEPS-VET"><a class="header" href="#DEPS-VET">Assess dependencies with <code>cargo vet</code> (DEPS-VET)</a></h3>
<p><code>cargo vet</code> is a project started by Mozilla
(and now also <a href="https://opensource.googleblog.com/2023/05/open-sourcing-our-rust-crate-audits.html">used by Google</a>)
to formalize crate audits in an organization, and be able to share
these with the community.</p>
<p>As this topic is all a matter of trust, by default <code>cargo vet</code> works with local audits
you make yourselves.
You can also <a href="https://mozilla.github.io/cargo-vet/importing-audits.html">import audit results</a>
from selected sources you trust, in the form of a git repository
URL. There is no centralized data source nor default trusted source.</p>
<pre><code class="language-toml">[imports.mozilla]
url = &quot;https://raw.githubusercontent.com/mozilla/supply-chain/main/audits.toml&quot;

[imports.google]
url = &quot;https://raw.githubusercontent.com/google/supply-chain/main/audits.toml&quot;
</code></pre>
<p>You can also <a href="https://mozilla.github.io/cargo-vet/trusting-publishers.html">trust specific publishers</a>.
This lowers the level of scrutiny (as it does not protect against some threats)
but allows focusing on more risky packages.</p>
<h2 id="maintain-dependencies-over-time"><a class="header" href="#maintain-dependencies-over-time">Maintain dependencies over time</a></h2>
<p>Once you have chosen to use a dependency, you need to keep track of it
over time.</p>
<h3 id="DEPS-VULNS"><a class="header" href="#DEPS-VULNS">Vulnerability and maintenance check (DEPS-VULNS)</a></h3>
<p>You should also monitor for vulnerabilities and unmaintained crates using <code>cargo audit</code> or <code>cargo deny</code> regularly
(e.g. with a daily CI job).
<a href="https://github.blog/2022-06-06-github-brings-supply-chain-security-features-to-the-rust-community/">GitHub's tooling</a>
can also help
track security vulnerabilities in your project.</p>
<h3 id="DEPS-UPDATES"><a class="header" href="#DEPS-UPDATES">Regular updates (DEPS-UPDATES)</a></h3>
<p>You should also try to stay up to date; this helps get bug fixes and improvements,
and also avoids using unmaintained versions,
ensuring to get easy access to security fixes in case of security vulnerability.
Use <a href="https://github.com/kbknapp/cargo-outdated"><code>cargo outdated</code></a> to show possible updates.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="maintaining-a-crate"><a class="header" href="#maintaining-a-crate">Maintaining a crate</a></h1>
<p>This page contains the items related to crate maintenance, especially when
you intend to make your crate public.</p>
<p>An obvious risk is a takeover of the crate, for example, on the crates.io repository,
in order to publish malicious versions of your crate.</p>
<p>It is also important to help your consumers (library or binary program users)</p>
<p>best practices to secure publication 
and help crates consumers.</p>
<h2 id="include-necessary-information-to-make-the-builds-consistent"><a class="header" href="#include-necessary-information-to-make-the-builds-consistent">Include necessary information to make the builds consistent</a></h2>
<h3 id="MAINTAIN-LOCK"><a class="header" href="#MAINTAIN-LOCK">Include <code>Cargo.lock</code> in sources (MAINTAIN-LOCK)</a></h3>
<p>If you develop a binary program, it is important to commit the <code>Cargo.lock</code> file in your repository.
This will help keep track of the exact versions used and ensure consistent and (mostly) reproducible builds.</p>
<h3 id="MAINTAIN-TOOLCHAIN"><a class="header" href="#MAINTAIN-TOOLCHAIN">Include <code>rust-toolchain.toml</code> in sources (MAINTAIN-TOOLCHAIN)</a></h3>
<p>In the same spirit, providing the Rust version to use in a <a href="https://rust-lang.github.io/rustup/overrides.html#the-toolchain-file"><code>rust-toolchain.toml</code> file</a>
in your binary program sources allows ensuring all builds will use a consistent toolchain version.</p>
<pre><code class="language-toml">[toolchain]
channel = &quot;1.71.0&quot;
</code></pre>
<h2 id="MAINTAIN-FEATURES"><a class="header" href="#MAINTAIN-FEATURES">Fine-grained features (MAINTAIN-FEATURES)</a></h2>
<p>Allow users of the crate to control transitive dependencies depending on their 
needs, using features.
You can still define complete default features including
broad use cases for convenience.</p>
<h2 id="maintaining-a--sys-crate-building-cc-code"><a class="header" href="#maintaining-a--sys-crate-building-cc-code">Maintaining a <code>-sys</code> crate building C/C++ code</a></h2>
<p>Some crates which provide bindings for a C or C++ library (<a href="https://doc.rust-lang.org/cargo/reference/build-scripts.html#-sys-packages"><code>-sys</code> crates</a>) are also able to compile
the library statically into the Rust binary. It is convenient but should be</p>
<h3 id="MAINTAIN-SRCFLAG"><a class="header" href="#MAINTAIN-SRCFLAG">Provide flags allowing to select the behavior (MAINTAIN-SRCFLAG)</a></h3>
<p>Users need to be able to be sure of the outcome of the build, whether they want to always
embed the library statically, or enforce dynamic linking and make the build fail
if it is missing.
A clear way to express this is to do dynamic linking by default
and provide a flag (<code>vendored</code> or similar) to choose to embed the library.</p>
<p>If the default behavior is to embed the library from the crate if missing on the system for convenience,
then it should be documented clearly.</p>
<h3 id="MAINTAIN-SRCCRATE"><a class="header" href="#MAINTAIN-SRCCRATE">Use a dedicated crate if possible (MAINTAIN-SRCCRATE)</a></h3>
<p>Instead of building the static library directly in the <code>-sys</code> crate, a good practice is
to use a dedicated crate for this purpose (like <code>openssl-sys</code> and <code>openssl-src</code>).
In this case, you can add the upstream version to the source crate version by using the build version defined in SemVer (defined as MAJOR.MINOR.PATCH+BUILD). For exemple, for openssl-src it gives <code>111.16.0+1.1.1l</code>, <code>1.1.1l</code> being the upstream packaged version.</p>
<p>This allows making the presence of the embedded library visible in the cargo tooling
(cargo tree, etc.), and more specifically to get security advisories for the embedded
component through the usual channels (<code>cargo audit/deny</code>).
This also allows
correctly documenting the upstream code license separately from the Rust crate.</p>
<h2 id="MAINTAIN-VULNS"><a class="header" href="#MAINTAIN-VULNS">Reporting vulnerabilities (MAINTAIN-VULNS)</a></h2>
<p>If you find a vulnerability affecting your crate,
<a href="https://rustsec.org/contributing.html">reporting it to the RustSec advisory database</a> will get
your users warned if they use
any kind of vulnerability detection on their dependencies.
Reporting to RustSec only is enough, as the advisories will get imported
by GitHub into their advisory own database (allowing alerts and pull requests by <em>dependabot</em> for example),
and assigned a CVE when relevant.</p>
<p>Note: RustSec is only a database for (public) vulnerabilities affecting crates.
For everything related to the Rust toolchain, infrastructure, etc. or
if you need confidentiality, you need to
contact the security response team as per the
<a href="https://www.rust-lang.org/policies/security">official security policy</a> at <a href="mailto:security@rust-lang.org">security@rust-lang.org</a>.</p>
<h2 id="publication-on-cratesio"><a class="header" href="#publication-on-cratesio">Publication on crates.io</a></h2>
<p>When using crates.io for publishing your crates, you need to be careful about a few things.</p>
<h3 id="MAINTAIN-CRATESIO2FA"><a class="header" href="#MAINTAIN-CRATESIO2FA">GitHub account with 2FA enabled (MAINTAIN-CRATESIO2FA)</a></h3>
<p>As crates.io uses GitHub as authentication layer, you should first properly secure your account using general best practices.
In particular,
make sure to have <a href="https://github.com/settings/security">two-factor authentication layer configured</a>
(and avoid the SMS/Text message method).</p>
<h3 id="MAINTAIN-CRATESIOTKN"><a class="header" href="#MAINTAIN-CRATESIOTKN">crates.io token configuration (MAINTAIN-CRATESIOTKN)</a></h3>
<p>Apart from the Web interface, the other way to interact with crates.io is through its
HTTP API,
especially through cargo commands (<code>cargo publish</code>, etc.)
that can run on the developer machine or on CI/CD systems, to automate publication. 
These interactions are authenticated using a token created in the Web interface.</p>
<p>You should crate a unique token for each use-case, and give it a minimal 
set of permissions. Setting an expiration date allows forcing a regular rotation of tokens. For a one-shot operation, set a one-day validity or even revoke the token just after usage.
If you had tokens crated before token scopes were introduced,
you should delete them and recreate more restricted ones.</p>
<p>When using this token in an automated context, it should be stored securely (e.g.
as an <a href="https://docs.github.com/en/actions/security-guides/encrypted-secrets">encrypted secret</a> in GitHub)
and passed as the
<a href="https://doc.rust-lang.org/cargo/reference/config.html?highlight=CARGO_REGISTRY_TOKEN#credentials"><code>CARGO_REGISTRY_TOKEN</code></a> environment variable.</p>
<p><img src="images/token.png" alt="New token form on crates.io" /></p>
<h2 id="MAINTAIN-CODESEC"><a class="header" href="#MAINTAIN-CODESEC">Code security best practices (MAINTAIN-CODESEC)</a></h2>
<p>Apply security best practices to your code and tests, like <a href="https://rust-fuzz.github.io/book/introduction.html">fuzzing</a>,
testing using <a href="https://github.com/rust-lang/miri">miri</a>, etc.
You can learn more in the <a href="https://highassurance.rs/">High Assurance Rust</a> book.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="build-for-production"><a class="header" href="#build-for-production">Build for production</a></h1>
<p>The build step is sometimes overlooked when it comes to software security, but is critical,
as recent events like the <a href="https://www.crowdstrike.com/blog/sunspot-malware-technical-analysis/">SUNSPOT attack</a> on SolarWinds build platform
showed.
Attacks can consist in tricking the build system into building from modified sources 
or inserting malicious software in the build environment.</p>
<p>Another important aspect is to allow users to get visibility over how the program was built,
for example, by providing a precise list of included components, and ideally to allow the users
the check that the produced artifacts actually match this information.</p>
<h2 id="build-process"><a class="header" href="#build-process">Build process</a></h2>
<h3 id="BUILD-TOOLCHAIN"><a class="header" href="#BUILD-TOOLCHAIN">Build toolchain (BUILD-TOOLCHAIN)</a></h3>
<p><code>rustup</code> is a very convenient tool for managing Rust toolchains, but <a href="https://rust-lang.github.io/rustup/security.html">does not yet</a> validate
signatures for the downloaded files. Depending on your requirements, it may be preferable to choose another installation method like
<a href="https://forge.rust-lang.org/infra/other-installation-methods.html#standalone-installers">standalone installers</a>
which allow you to validate signatures for downloaded files (or a Rust compiler provided by your Linux distribution).</p>
<h3 id="BUILD-LOCKED"><a class="header" href="#BUILD-LOCKED">Locked dependencies (BUILD-LOCKED)</a></h3>
<p>When building for production, you should have a <code>Cargo.lock</code> file in the sources,
and ensure the build commands include the <code>--locked</code> flag.</p>
<p>This ensures dependencies' integrity (at least compared to when the lock file was committed), as
the <code>Cargo.lock</code> file contains a hash for each crate source, that is checked at build.
It also ensures the dependencies used for production build match what the source repository contains
(git tag, etc.).
If there is an inconsistency between the <code>Cargo.lock</code>
and <code>Cargo.toml</code> and the <code>--locked</code> flag is passed the build will fail
(while the lock file would be automatically updated without it).</p>
<h3 id="BUILD-REPRODUCIBLE"><a class="header" href="#BUILD-REPRODUCIBLE">Reproducible builds (BUILD-REPRODUCIBLE)</a></h3>
<p><a href="https://reproducible-builds.org/">Reproducible builds</a> designates an effort to make
software re-buildable from sources with the exact same output, allowing anyone to check 
that the provided binaries are actually the product of their sources.
This requires the build process to be deterministic.</p>
<p>It is currently possible to make reproducible builds in Rust, but it requires
some actions to remove build-time absolute paths from the binaries
(which are used in debug and panic messages).
This also leaks the absolute path of the files on the build system which may not be desirable.
To remove them, you need to pass the
<a href="https://doc.rust-lang.org/rustc/command-line-arguments.html#--remap-path-prefix-remap-source-names-in-output"><code>--remap-path-prefix</code></a>
option to <code>rustc</code>.
When using <code>cargo</code>, you can use the <code>RUSTFLAGS</code> environment variable, with something like:</p>
<pre><code class="language-shell">RUSTFLAGS=&quot;--remap-path-prefix /path/to/build=/static-placeholder&quot; cargo build --release
</code></pre>
<p>Or use a <a href="https://doc.rust-lang.org/cargo/reference/config.html"><code>config.toml</code> file for cargo</a> with:</p>
<pre><code class="language-toml">[build]
rustflags = [&quot;--remap-path-prefix /path/to/build=/static-placeholder&quot;]
</code></pre>
<p>You can pass the option multiple times (and, when multiple re-mappings are given and several
of them match, the last matching one is applied).
This process will become more straightforward once the <a href="https://rust-lang.github.io/rfcs/3127-trim-paths.html">RFC 3127</a>
gets <a href="https://github.com/rust-lang/cargo/issues/12137">implemented</a> in cargo.</p>
<h3 id="BUILD-ISOLATED"><a class="header" href="#BUILD-ISOLATED">Sandboxed builds (BUILD-ISOLATED)</a></h3>
<p>As building Rust code runs arbitrary code locally (procedural macros and <code>build.rs</code>),
the build environment should be protected against attacks that could lead to persisting malicious software in
the build environment.
To do so, the build environment should be ephemeral and isolated (in a dedicated container, or -even better- a VM).</p>
<h2 id="BUILD-AUDITABLE"><a class="header" href="#BUILD-AUDITABLE">Embed dependency list in binaries (BUILD-AUDITABLE)</a></h2>
<p>For traceability, it is useful to be able to get the list of dependencies from a build binary.
This allows, for example, auditing for known vulnerability directly on the binary files.
This is not done by default in Rust builds,
but you can use <a href="https://github.com/rust-secure-code/cargo-auditable"><code>cargo auditable</code></a> to include this information.</p>
<pre><code class="language-shell">cargo auditable build --release
</code></pre>
<p>You can then see the embedded data with <a href="https://github.com/rust-secure-code/cargo-auditable/tree/master/rust-audit-info"><code>rust-audit-info</code></a>:</p>
<pre><code class="language-shell">$ rust-audit-info my_program | jq
{
  &quot;packages&quot;: [
    {
      &quot;name&quot;: &quot;aho-corasick&quot;,
      &quot;version&quot;: &quot;0.7.20&quot;,
      &quot;source&quot;: &quot;registry&quot;,
      &quot;dependencies&quot;: [
        83
      ],
      &quot;features&quot;: [
        &quot;default&quot;,
        &quot;std&quot;
      ]
    }
    # [...]
}
</code></pre>
<p><strong>Warning</strong>: Due to <a href="https://internals.rust-lang.org/t/statically-linked-c-c-libraries/17175">the way some <code>-sys</code> crate work</a>, some C/C++ native
library may be included in the binary but not visible in the embedded data.</p>
<h2 id="BUILD-SIGN"><a class="header" href="#BUILD-SIGN">Signature (BUILD-SIGN)</a></h2>
<p>There is no specific tooling for signing Rust binaires at the moment, but common approaches can apply
You can, for example, use a GPG-based signature.</p>
<p>There is also an open <a href="https://github.com/trustification/rust-rfcs/blob/sigstore-rfc/text/0000-sigstore-integration.md">pre-RFC</a>
proposing to use <a href="https://www.sigstore.dev/">sigstore</a> for signing and verifying crates (<a href="https://internals.rust-lang.org/t/pre-rfc-using-sigstore-for-signing-and-verifying-crates/18115/31">topic on IRLO</a>).</p>
<h2 id="BUILD-SBOM"><a class="header" href="#BUILD-SBOM">Software Bill Of Materials (a.k.a. SBOM) (BUILD-SBOM)</a></h2>
<p><a href="https://www.aquasec.com/cloud-native-academy/supply-chain-security/sbom/">Software Bills Of Materials</a> for Rust programs usually need
to be created from the sources (as the binaries don't contain enough information).</p>
<p><strong>Warning</strong>: Due to <a href="https://internals.rust-lang.org/t/statically-linked-c-c-libraries/17175">the way some <code>-sys</code> crate work</a>, some C/C++ native
library may be included in the binary but not visible in the
SBOM.</p>
<p>There are available tooling for the two most common SBOM formats in the open-source ecosystems,
<a href="https://spdx.dev/">SPDX</a> and <a href="https://cyclonedx.org/">CycloneDX</a>.
Choosing a SBOM format is up to you (they should be somehow interoperable).</p>
<h3 id="cyclonedx-with-cargo-cyclonedx"><a class="header" href="#cyclonedx-with-cargo-cyclonedx">CycloneDX with <code>cargo-cyclonedx</code></a></h3>
<p>There is an official CycloneDX cargo subcommand to generate a SBOM
from a Rust project source, <a href="https://crates.io/crates/cargo-cyclonedx"><code>cargo-cyclonedx</code></a></p>
<pre><code class="language-bash"># Produced a `bom.cdx.json` files
cargo cyclonedx --all --format json --output-cdx
</code></pre>
<p>It understands cargo workspaces and produces a JSON (or XML) file in the current directory.
To aggregate several files, validate or sign them, you can use the <a href="https://github.com/CycloneDX/cyclonedx-cli"><code>cyclonedx-cli</code></a>.</p>
<pre><code class="language-bash">cyclonedx merge --input-files *.json --output-file myprogram.cdx.json
</code></pre>
<h3 id="spdx-and-cyclonedx-with-cargo-sbom"><a class="header" href="#spdx-and-cyclonedx-with-cargo-sbom">SPDX and CycloneDX with <code>cargo-sbom</code></a></h3>
<p>There is a cargo subcommand available to generate an SPDX or CycloneDX SBOM from a Rust project source,
<a href="https://github.com/psastras/sbom-rs"><code>cargo-sbom</code></a>.</p>
<pre><code class="language-bash"># SPDX output (default)
cargo sbom &gt; sbom.spdx.json
# CycloneDX output
cargo sbom --output-format cyclone_dx_json_1_4 &gt; sbom.cdx.json
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="running-in-production"><a class="header" href="#running-in-production">Running in production</a></h1>
<p>In this section, we will see what we can do to track
known vulnerabilities in Rust programs.</p>
<p>It won't cover generic deployment security as there are numerous options
(containers, Windows msi/exe installers, Linux rpm/dpkg/etc. packages, etc.)
but you should make sure you can verify that deployed artifacts'
source and integrity (various artifact signature mechanisms can help).</p>
<h2 id="audit-binaries"><a class="header" href="#audit-binaries">Audit binaries</a></h2>
<h3 id="crates"><a class="header" href="#crates">Crates</a></h3>
<p><code>cargo audit</code> has some <a href="https://github.com/rustsec/rustsec/tree/main/cargo-audit#cargo-audit-bin-subcommand">capacities
to audit Rust binaries</a> for known
vulnerabilities in their dependencies.
It has two operation modes in this context:</p>
<ul>
<li>If the binary was build using <code>cargo-auditable</code>, it will audit for known vulnerabilities in the embedded dependency list.</li>
<li>If not, it will audit for known vulnerabilities in a dependency list extracted from panic messages.
<ul>
<li>This is incomplete as not all crates include panics.</li>
<li>Depending on the compilation options, panic messages may not be available at all.</li>
</ul>
</li>
</ul>
<p><img src="images/audit.png" alt="cargo audit output on a binary file" /></p>
<p>You can also use more generic tools like <a href="https://github.com/aquasecurity/trivy">trivy</a> which is able to look for
known vulnerabilities in Rust binaries by using the same dependency list built by <code>cargo-auditable</code>.</p>
<pre><code class="language-bash">$ trivy image --security-checks vuln docker-image
2022-08-15T11:32:03.923+0300    INFO    Vulnerability scanning is enabled
2022-08-15T11:32:05.031+0300    INFO    Number of language-specific files: 1
2022-08-15T11:32:05.032+0300    INFO    Detecting rust-binary vulnerabilities...

your_binary (rust-binary)
=========================
Total: 1 (UNKNOWN: 0, LOW: 0, MEDIUM: 0, HIGH: 1, CRITICAL: 0)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Library     â”‚    Vulnerability    â”‚ Severity â”‚ Installed Version â”‚ Fixed Version â”‚                       Title                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    websocket    â”‚    CVE-2022-35922   â”‚ HIGH     â”‚ 0.26.4            â”‚ 0.26.5        â”‚ Untrusted websocket connections can cause an      | 
â”‚                 â”‚                     â”‚          â”‚                   â”‚               â”‚ out-of-memory (OOM) process abort in a client     â”‚
â”‚                 â”‚                     â”‚          â”‚                   â”‚               â”‚ or a server.                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 id="toolchain"><a class="header" href="#toolchain">Toolchain</a></h3>
<p>You might also want to know which version of the Rust toolchain was used to build a program, for example,
to know if it's affected by a vulnerability in the standard library or the compiler itself.
The compiler version <a href="https://github.com/rust-lang/rust/pull/97550">should be added</a> in a <code>.comment</code> section of the file in the future.
Until then, you can look for the version in the strings included in the binary:</p>
<pre><code class="language-shell">$ strings ~/.cargo/bin/rg | grep 'rustc version'
clang LLVM (rustc version 1.68.0 (2c8cc3432 2023-03-06))
</code></pre>
<p>You should keep informed about vulnerabilities affect the Rust toolchain
(compiler, cargo, etc.) as the vulnerability detection
tooling (<code>cargo audit/deny</code>) is not able to warn you about these. You can subscribe to the
<a href="https://www.rust-lang.org/policies/security#security-receiving">security announcement mailing-list</a> linked in the security policy.</p>
<h2 id="audit-sboms"><a class="header" href="#audit-sboms">Audit SBOMs</a></h2>
<p>It is also possible to look for known vulnerabilities in a SBOM if they were produced at build time.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="checklist"><a class="header" href="#checklist">Checklist</a></h1>
<p>Legend: ğŸ”’ Must have, â­ï¸ Should have, ğŸ‘ Nice to have, â„¹ï¸ Info</p>
<h2 id="manage-dependencies-1"><a class="header" href="#manage-dependencies-1">Manage dependencies</a></h2>
<ul>
<li><input disabled="" type="checkbox"/>
ğŸ”’ Transitive dependencies number is minimized by selecting only the required features (<a href="dependencies.html#DEPS-FEATURES">DEPS-FEATURES</a>)</li>
<li><input disabled="" type="checkbox"/>
ğŸ”’ Dependencies are vetted (<a href="dependencies.html#DEPS-ASSESS">DEPS-ASSESS</a>)</li>
<li><input disabled="" type="checkbox"/>
â­ï¸ Dependencies are reviewed using <code>cargo vet</code> (<a href="dependencies.html#DEPS-VET">DEPS-VET</a>)</li>
<li><input disabled="" type="checkbox"/>
ğŸ”’ Known vulnerabilities and unmaintained crates are regularly checked (<a href="dependencies.html#DEPS-VULNS">DEPS-VULNS</a>)</li>
<li><input disabled="" type="checkbox"/>
ğŸ”’ Dependencies are up-to-date (<a href="dependencies.html#DEPS-UPDATES">DEPS-UPDATES</a>)</li>
</ul>
<h2 id="maintain-a-crate"><a class="header" href="#maintain-a-crate">Maintain a crate</a></h2>
<ul>
<li><input disabled="" type="checkbox"/>
Sources of binary programs include necessary information to make the builds consistent
<ul>
<li><input disabled="" type="checkbox"/>
ğŸ”’ The <code>Cargo.lock</code> file is committed to your repository <em>(when developing binary programs)</em> (<a href="maintain.html#MAINTAIN-LOCK">MAINTAIN-LOCK</a>)</li>
<li><input disabled="" type="checkbox"/>
ğŸ‘ The <code>rust-toolchain.toml</code> file is committed to your repository <em>(when developing binary programs)</em> (<a href="maintain.html#MAINTAIN-TOOLCHAIN">MAINTAIN-TOOLCHAIN</a>)</li>
</ul>
</li>
<li><input disabled="" type="checkbox"/>
ğŸ”’ Crate features allow to only include transitive dependencies required for a given use case (<a href="maintain.html#MAINTAIN-FEATURES">MAINTAIN-FEATURES</a>)</li>
<li><input disabled="" type="checkbox"/>
Maintaining a <code>-sys</code> crate building C/C++ code
<ul>
<li><input disabled="" type="checkbox"/>
â­ï¸ Provide flags to control the behavior (MAINTAIN-SRCFLAG) { #MAINTAIN-SRCFLAG }</li>
<li><input disabled="" type="checkbox"/>
â­ï¸ Use a dedicated <code>-src</code> crate (MAINTAIN-SRCCRATE) { #MAINTAIN-SRCCRATE }</li>
</ul>
</li>
<li><input disabled="" type="checkbox"/>
ğŸ”’ Known vulnerabilities are reported to RustSec (<a href="maintain.html#MAINTAIN-VULNS">MAINTAIN-VULNS</a>)</li>
<li><input disabled="" type="checkbox"/>
Publication access to crates.io is secured
<ul>
<li><input disabled="" type="checkbox"/>
ğŸ”’ The GitHub accounts owning the crates have 2FA enabled (<a href="maintain.html#MAINTAIN-CRATESIO2FA">MAINTAIN-CRATESIO2FA</a>)</li>
<li><input disabled="" type="checkbox"/>
ğŸ”’ All tokens have limited rights (<a href="maintain.html#MAINTAIN-CRATESIOTKN">MAINTAIN-CRATESIOTKN</a>)</li>
</ul>
</li>
<li><input disabled="" type="checkbox"/>
â­ï¸ Apply code security best practices (<a href="maintain.html#MAINTAIN-CODESEC">MAINTAIN-CODESEC</a>)</li>
</ul>
<h2 id="build-for-production-1"><a class="header" href="#build-for-production-1">Build for production</a></h2>
<ul>
<li><input disabled="" type="checkbox"/>
ğŸ‘ Build uses a trusted toolchain (<a href="build.html#BUILD-TOOLCHAIN">BUILD-TOOLCHAIN</a>)</li>
<li><input disabled="" type="checkbox"/>
ğŸ”’ Build uses <code>--locked</code> for reproducibility (<a href="build.html#BUILD-TOOLCHAIN">BUILD-LOCKED</a>)</li>
<li><input disabled="" type="checkbox"/>
ğŸ‘ Build is fully reproducible (<a href="build.html#BUILD-REPRODUCIBLE">BUILD-REPRODUCIBLE</a>)</li>
<li><input disabled="" type="checkbox"/>
ğŸ‘ Build environment is ephemeral and isolated (<a href="build.html#BUILD-ISOLATED">BUILD-ISOLATED</a>)</li>
<li><input disabled="" type="checkbox"/>
ğŸ‘ Build uses <code>cargo auditable</code> to embed dependencies information (<a href="build.html#BUILD-AUDITABLE">BUILD-AUDITABLE</a>)</li>
<li><input disabled="" type="checkbox"/>
â„¹ï¸ Built binaries are signed (<a href="build.html#BUILD-SIGN">BUILD-SIGN</a>)</li>
<li><input disabled="" type="checkbox"/>
â„¹ï¸ Build produces a <em>Software Bill of Materials</em> (<a href="build.html#BUILD-SBOM">BUILD-SBOM</a>)</li>
</ul>
<h2 id="run-in-production"><a class="header" href="#run-in-production">Run in production</a></h2>
<ul>
<li><input disabled="" type="checkbox"/>
â­ï¸ Production artifacts are regularly checked for vulnerabilities (<a href="run.html#PROD-AUDIT">PROD-AUDIT</a>)</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="external-links"><a class="header" href="#external-links">External links</a></h1>
<h2 id="rust-supply-chain-security"><a class="header" href="#rust-supply-chain-security">Rust supply chain security</a></h2>
<ul>
<li><a href="https://blog.logrocket.com/comparing-rust-supply-chain-safety-tools/">Comparing Rust supply chain safety tools</a> (May 2022, by llogiq)</li>
<li><a href="https://www.bitfalter.com/rust-supply-chain-security">Rust Supply Chain Security</a> (April 2023, by Bitfalter)</li>
<li><a href="https://internals.rust-lang.org/t/about-supply-chain-attacks/14038">About Supply Chain Attacks</a> (February 2021, topic on IRLO)</li>
</ul>
<h2 id="general-rust-security"><a class="header" href="#general-rust-security">General Rust Security</a></h2>
<ul>
<li><a href="https://anssi-fr.github.io/rust-guide/">Secure Rust Guidelines</a> (May 2022, by ANSSI)</li>
<li><a href="https://insights.sei.cmu.edu/blog/rust-software-security-a-current-state-assessment/">Rust Software Security: A Current State Assessment</a> (December 2022, Software Engineering Institute, CMU)</li>
<li><a href="https://highassurance.rs/">High-Assurance Rust: Developing Secure and Robust Software</a></li>
<li><a href="https://rust-fuzz.github.io/book/introduction.html">Rust Fuzz Book</a></li>
<li><a href="https://github.com/rust-secure-code/projects">List of security-related projects</a></li>
</ul>
<h2 id="report-security-issues"><a class="header" href="#report-security-issues">Report security issues</a></h2>
<ul>
<li><a href="https://www.rust-lang.org/policies/security">Rust's official Security Policy</a></li>
<li><a href="https://rustsec.org/">RustSec, a vulnerability database for the Rust ecosystem</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
